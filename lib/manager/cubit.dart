import 'package:bloc/bloc.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:news_api/manager/state.dart';import 'package:news_api/model/article.dart';import 'package:news_api/network/api_service.dart';class AppCubit extends Cubit <AppState> {  AppCubit():super(InitialState());  static AppCubit get(context) => BlocProvider.of(context);  getNws({String name = "general"})async{    emit(LoadingState());    ApiService apiService = ApiService();// دي االلي بتديني state   try {     var json = await apiService.get(endPoints:"v2/top-headlines?country=us&category=$name&apiKey=b7322dc5ba344383b344ba36c2ba9627");     List<Article> articles = [];     for (var i in json["articles"]) {       articles.add(Article( image:i["urlToImage"]??"https://images.pexels.com/photos/4439425/pexels-photo-4439425.jpeg?auto=compress&cs=tinysrgb&w=600",           name: i["title"] ?? "No Title", desc:i["description"]??"errror" ));     }     emit(LoadedState(x: articles));   }  catch (error) {     emit(ErrorState(errorMassage: error.toString()));     // TODO   }  }//  BlocProvider , BlocBuilder, BlocListener}